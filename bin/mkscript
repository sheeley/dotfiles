#! /usr/bin/env nu

def main [
	scriptName: string, # name of script to create
	local: bool = false # create in current directory
] {
	let scriptDir = $"($env.HOME)/dotfiles/bin/"
	if $local {
		let scriptDir = (pwd)
	}

	let file = $"($scriptDir)/($scriptName)"

	if ($file | path exists) {
		echo "script exists"
		exit 1
	}

	script_template | save $file
	chmod +x $file

	if $env.TERM != "" {
		^$env.EDITOR $file
	}
}

